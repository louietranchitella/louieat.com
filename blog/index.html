<!DOCTYPE html>
<html>

<head>
    <!--- Add the style sheet. -->
    <link id="theme" rel="stylesheet" type="text/css" />

    <script>
        var pathToThemes = '../styles/css/';

        if(typeof(Storage) !== 'undefined'){
            if(localStorage.theme === null){
                localStorage.theme='purple.css';
            }
            document.getElementById('theme').href = pathToThemes.concat(localStorage.theme);
        }
        else{
            console.warn('Sorry, your browser does not support web storage :(');
        }

        function toggleTheme(theme) {
            
            // Obtain the name of stylesheet
            // as a parameter and set it
            // using href attribute.
            let sheets = document.getElementsByTagName('link');

            value = pathToThemes.concat(theme);
            sheets[0].href = value;
            localStorage.theme=theme;
        }
    </script>
</head>

<body>
    <h2>blog placeholder</h2>
    
    <p>Switch between multiple themes using the buttons below.</p>

    <button onclick="toggleTheme('purple.css')">
        Purple
    </button>

    <button onclick="toggleTheme('spotify.css')">
        Spotify
    </button>

    <button onclick="toggleTheme('minecraft.css')">
        Minecraft
    </button>

    <button onclick="toggleTheme('old.css')">
        Old
    </button>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            var pathToThemes = '../styles/css/';
            var theme = localStorage.theme || 'purple.css';
            document.getElementById('theme').href = pathToThemes.concat(theme);
        });
        // Preload all themes
        var themes = ['purple.css', 'spotify.css', 'minecraft.css', 'old.css'];
        themes.forEach(function(theme) {
            var xhr = new XMLHttpRequest();
            xhr.open('GET', pathToThemes.concat(theme), true);
            xhr.send();
        });
    </script>
    

</body>

</html>
